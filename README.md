# MUD 武侠游戏

一款基于 Java 的命令行武侠养成类 MUD 游戏，支持**单机冒险**与**多人联机对战**。

## 🎮 游戏目标
在 **100 回合**内，通过修炼和战斗将战力提升至 **1200 分**以上，成就武林霸主地位！

## ✨ 核心特性

- **双重模式**：
  - **单机模式**：经典的个人与 NPC 挑战。
  - **联机模式**：支持创建服务器或加入他人房间，在决斗池中进行全服大乱斗，并支持 AI 接管断线玩家。
- **角色系统**：
  - **五维属性**：力量 (STR)、敏捷 (AGI)、体质 (CON)、智力 (INT)、运气 (LUK)，影响战斗表现。
  - **三大流派**：刀法 (SABER)、剑法 (SWORD)、拳法 (FIST)，存在流派克制机制。
- **战斗体系**：
  - **NPC 切磋**：不同难度的 NPC 供你练手。
  - **决斗池 (PvP)**：多人在线回合制同步对决，支持战术选择。
- **人性化设计**：
  - 角色创建支持回车默认配置与自动平均点数分配。
  - 线程安全的服务器架构，支持心跳检测与自动重连逻辑。

## 🚀 快速开始

### 运行环境
- JDK 1.8 或更高版本

### 启动方式 (Windows)
1. 下载项目源代码。
2. 双击运行根目录下的 `run.bat`。
   - 该脚本会自动创建 `bin` 目录、编译源码并启动游戏。

### 手动编译运行
```bash
# 编译
javac -encoding UTF-8 -d bin src/*.java src/io/*.java src/network/*.java src/server/*.java src/client/*.java

# 运行
java -cp bin main.Main
```

## 📂 项目结构

```text
MUD/
├── src/                 # 核心源代码
│   ├── client/          # 联机模式客户端逻辑
│   ├── server/          # 联机模式服务器逻辑
│   ├── network/         # 网络通信协议与序列化
│   ├── io/              # 跨平台的 IO 抽象接口
│   └── ...              # 游戏核心逻辑 (Game, MultiPlayerGame等)
├── run.bat              # Windows 一键编译启动脚本
├── pom.xml              # Maven 配置文件
├── README.md            # 项目说明
└── .gitignore           # Git 忽略配置
```

## 📜 胜负规则
- **胜利**：回合数 ≤ 100 且 战力 ≥ 1200。
- **失败**：回合数超过 100 或 角色在战斗中不幸陨落（生命值为 0 且无救治）。

## 🛠 技术实现
- **并发处理**：采用 `ReentrantReadWriteLock`、`CountDownLatch` 等确保多人模式下的线程安全。
- **网络编程**：基于 TCP Socket 协议，自定义一套精简的消息通信协议。
- **持久化**：使用 Java 序列化技术实现角色数据的保存与加载。

---
*本项目仅供学习交流使用。*
